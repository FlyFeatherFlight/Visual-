@model ChicST_MM.WEB.Models.SalesOrderViewModel

@{
    ViewBag.Title = "详细信息";
}
<link href="~/Content/scroolWidth.css" rel="stylesheet" />
<h3>@Model.客户姓名 详细信息</h3>

<div>

    <table class="table table-bordered">
        <tr>
            <td>
                合同编号
            </td>
            <td>
                @Html.DisplayFor(model => model.合同编号)
            </td>
            <td>
                单据编号
            </td>
            <td>
                @Html.DisplayFor(model => model.单据编号)
            </td>
            <td>
                订单编号
            </td>
            <td>
                @Html.DisplayFor(model => model.订单编号)
            </td>
        </tr>
        <tr>
            <td>
                单据日期
            </td>
            <td>
                @Html.DisplayFor(model => model.单据日期)
            </td>
            <td>
                店铺
            </td>
            <td>
                @Html.DisplayFor(model => model.店铺)
            </td>
            <td>
                员工
            </td>
            <td>
                @Html.DisplayFor(model => model.员工)
            </td>
        </tr>
        <tr>
            <td>
                客户姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.客户姓名)
            </td>

            <td>
                客户联系方式
            </td>

            <td>
                @Html.DisplayFor(model => model.客户联系方式)
            </td>
            <td>
                客户地址
            </td>
            <td>
                @Html.DisplayFor(model => model.客户地址)
            </td>
        </tr>
        <tr>
            <td>
                零售合计
            </td>
            <td>
                @Html.DisplayFor(model => model.零售合计)
            </td>
            <td>
                预付金额_bak
            </td>
            <td colspan="3">
                @Html.DisplayFor(model => model.预付金额_bak)
            </td>
        </tr>
        <tr>
            <td>
                单据备注
            </td>
            <td colspan="5">
                @Html.DisplayFor(model => model.单据备注)
            </td>
        </tr>
        <tr>
            <td>
                制单人姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.制单人姓名)
            </td>
            <td>
                制单日期
            </td>
            <td>
                @Html.DisplayFor(model => model.制单日期)
            </td>
        </tr>
        <tr>
            <td>
                确认标志
            </td>
            <td>
                @if (Model.确认标志 == true)
                {
                    <span>是</span>
                }
                else
                {
                    <span>否</span>
                }
            </td>
            <td>
                确认人姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.确认人姓名)
            </td>
            <td>
                确认日期
            </td>
            <td>
                @Html.DisplayFor(model => model.确认日期)
            </td>
        </tr>
        <tr>
            <td>
                审核标志
            </td>
            <td>

                @if (Model.审核标志 == true)
                {
                    <span>是</span>
                }
                else
                {
                    <span>否</span>
                }
            </td>
            <td>
                审核人姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.审核人姓名)
            </td>
            <td>
                审核日期
            </td>
            <td>
                @Html.DisplayFor(model => model.审核日期)
            </td>
        </tr>
        <tr>
            <td>
                复核标志
            </td>
            <td>

                @if (Model.复核标志 == true)
                {
                    <span>是</span>
                }
                else
                {
                    <span>否</span>
                }
            </td>
            <td>
                复核人姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.复核人姓名)
            </td>
            <td>
                复核日期
            </td>
            <td>
                @Html.DisplayFor(model => model.复核日期)
            </td>
        </tr>
        <tr>
            <td>
                批准标志1
            </td>
            <td>

                @if (Model.批准标志1 == true)
                {
                    <span>是</span>
                }
                else
                {
                    <span>否</span>
                }
            </td>
            <td>
                批准人1姓名
            </td>
            <td>
                @Html.DisplayFor(model => model.批准人1姓名)
            </td>
            <td>
                批准日期1
            </td>
            <td>
                @Html.DisplayFor(model => model.批准日期1)
            </td>
        </tr>
        <tr>
            <td>
                收货人
            </td>
            <td>
                @Html.DisplayFor(model => model.收货人)
            </td>

            <td>
                收货地址
            </td>
            <td>
                @Html.DisplayFor(model => model.收货地址)
            </td>
            <td>
                收货人联系方式
            </td>
            <td>
                @Html.DisplayFor(model => model.收货人联系方式)
            </td>
        </tr>
        <tr>
            <td>
                制单销售人
            </td>
            <td colspan="5">
                @Html.DisplayFor(model => model.制单销售人)
            </td>
        </tr>
        <tr>
            <td>
                是否自营业绩
            </td>
            <td>

                @if (Model.是否自营业绩 == true)
                {
                    <span>是</span>
                }
                else if (Model.是否业务业绩 == false)
                {
                    <span>否</span>
                }
                else
                {

                }
            </td>
            <td>
                是否业务业绩
            </td>
            <td>

                @if (Model.是否业务业绩 == true)
                {
                    <span>是</span>
                }
                else if (Model.是否业务业绩 == false)
                {
                    <span>否</span>
                }
                else
                {

                }
            </td>
            <td>
                折扣
            </td>
            <td>
                @Html.DisplayFor(model => model.折扣)
            </td>

        </tr>
    </table>
    <div style="width:95%;margin:0 2.5%;">
        <div class="Top hidden"></div>
        <div class="Botoom">
            <table class="text-center" id="Table">
                <thead>
                    <tr>
                        <td class="width-50">
                            序号
                        </td>
                        <td class="width-102">
                            商品编号
                        </td>
                        <td class="width-102">型号</td>
                        <td class="width-102">
                            系列
                        </td>
                        <td class="width-102">
                            名称
                        </td>
                        <td class="width-102">
                            规格
                        </td>
                        <td class="width-102">
                            描述
                        </td>
                        <td class="width-50">
                            计量单位
                        </td>
                        <td class="width-102">
                            标准零售价
                        </td>
                        <td class="width-60">
                            数量
                        </td>
                        <td class="width-102">
                            零售单价
                        </td>
                        <td class="width-102">
                            零售小计
                        </td>
                        <td class="width-102">
                            需求日期
                        </td>

                        <td class="width-102">
                            明细备注
                        </td>
                        <td class="width-50">
                            是否进口
                        </td>
                        <td class="width-50">
                            交货周期
                        </td>
                        <td class="width-102">
                            预计交期
                        </td>
                        <td class="width-102">
                            默认交期
                        </td>

                        <td class="width-102">操作</td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<script>
    //获取明细数据
    getDetail();
    function getDetail() {
        $("#Table tbody").html("<tr><td class='loading' colspan='36' style='height:120px;text-align:start;'>正在加载</td></tr>");
        $.ajax({
            url: '@Url.Action("GetSalesOrdersDeatilsJson", "SalesOrder")',
            type: "post",
            data: {id:@Model.ID},
            dataType: "json",
            cache: false,
            async: true,
            success: function (data) {
                console.log(data)
                if (data.success) {
                    let htmlStr = null;
                    $(data.data).each(function (i, m) {
                        htmlStr += "<tr><td>" + m.序号 + "</td><td>" + m.商品编号 + "</td><td>" + m.商品型号 + "</td><td>" + m.系列 + "</td><td>" + m.名称  + "</td><td>"
                            + m.规格 + "</td><td>" + m.描述 + "</td><td>" + m.计量单位 + "</td><td>" + m.标准零售价 + "</td><td>" + m.数量 + "</td><td>"
                            + m.零售单价 + "</td><td>" + m.零售小计 + "</td><td>" + dateFtt('yyyy-MM-dd', m.需求日期) + "</td><td>" + m.明细备注 + "</td><td>" + m.是否进口 + "</td><td>"
                            + m.交货周期 + "</td><td>" + dateFtt('yyyy-MM-dd', m.预计交期) + "</td><td>" + dateFtt('yyyy-MM-dd', m.默认交期) + "</td><td><span class='Aspan' onclick='edit(this)'>修改</span></td></tr>"
                    })
                    $("#Table tbody").html(htmlStr);
                    clearNull($("#Table td"));
                }
            },
            error: function (err) {
                alert("点击过快或网络错误，请稍后重试！");
                console.log(err)
            }

        })
    }
</script>